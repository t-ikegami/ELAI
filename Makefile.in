prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
includedir = @includedir@
libdir = @libdir@

SUBDIRS	= Misc swig

.PHONY: all clean distclean install uninstall

all:
	install -d $(bindir) $(includedir) $(libdir)
	for i in $(SUBDIRS); do (cd $$i; $(MAKE) $@) || exit 1; done

clean:
	for i in $(SUBDIRS); do (cd $$i; $(MAKE) $@) || exit 1; done

install:
	install -d $(includedir)/Elai
	install -c -m 644 Elai/* $(includedir)/Elai
	install -c -m 644 elai.h $(includedir)
	for i in $(SUBDIRS); do (cd $$i; $(MAKE) $@) || exit 1; done

uninstall:
	for i in $(SUBDIRS); do (cd $$i; $(MAKE) $@) || exit 1; done
	-rmdir -p $(bindir) $(includedir)/Elai $(includedir) $(libdir) 2>/dev/null; :
	# Above colon(:) are performing in order to clear the error status.

distclean: clean
	rm -rf autom4te.cache autoscan.log config.log config.status configure.lineno
	rm -f Makefile
	for i in $(SUBDIRS); do (cd $$i; $(MAKE) $@) || exit 1; done
